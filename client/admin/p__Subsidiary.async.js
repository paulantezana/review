(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{EyIo:function(e,a,n){},Lhyu:function(e,a,n){e.exports={newButton:"sn-pages-subsidiary-index-newButton",listS:"sn-pages-subsidiary-index-listS",switch:"sn-pages-subsidiary-index-switch",content:"sn-pages-subsidiary-index-content",header:"sn-pages-subsidiary-index-header",avatar:"sn-pages-subsidiary-index-avatar"}},"ejM/":function(e,a,n){"use strict";n.r(a);n("Pwec");var t=n("CtXQ"),r=(n("Mwp2"),n("VXEj")),i=(n("IzEo"),n("bx4M")),l=(n("BoS7"),n("Sdc0")),s=(n("2qtc"),n("kLXV")),o=(n("+L6B"),n("2/Rp")),c=n("gWZ8"),d=n.n(c),u=(n("/zsF"),n("PArb")),m=(n("Telt"),n("Tckk")),p=n("2Taf"),h=n.n(p),b=n("vZ4D"),f=n.n(b),y=n("l4Ni"),E=n.n(y),g=n("ujKo"),v=n.n(g),k=n("MhPg"),C=n.n(k),w=n("q1tI"),I=n.n(w),x=n("MuoO"),P=(n("7DNP"),n("Lhyu")),F=n.n(P),N=n("Aeqt"),D=n("p0pE"),q=n.n(D),O=n("rlhR"),V=n.n(O),M=n("jehZ"),S=n.n(M),T=(n("5NDa"),n("5rEg")),L=(n("y8nQ"),n("Vl3Y")),R=(n("OaEy"),n("2fM7")),j=(n("EyIo"),n("wd/R"),{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),B=(R["a"].Option,L["a"].create()(function(e){function a(e){var n;return h()(this,a),n=E()(this,v()(a).call(this,e)),n.state={},n}return C()(a,e),f()(a,[{key:"render",value:function(){var e=this.props,a=e.visible,n=(e.user,e.onCancel),t=e.onOk,r=e.form,i=e.confirmLoading,l=e.data,o=r.getFieldDecorator;return I.a.createElement(s["a"],{title:"Filial",okText:"Guardar",confirmLoading:i,onCancel:n,onOk:t,visible:a},I.a.createElement(L["a"],{layout:"horizontal"},I.a.createElement(L["a"].Item,S()({hasFeedback:!0},j,{label:"Nombre"}),o("name",{initialValue:l.name,rules:[{required:!0,message:"\xa1Por favor ingrese un nombre!"}]})(I.a.createElement(T["a"],{placeholder:"Nombre"}))),I.a.createElement(L["a"].Item,S()({hasFeedback:!0},j,{label:"Pais"}),o("country",{initialValue:l.country,rules:[{required:!0,message:"\xa1Por favor ingrese un nombre!"}]})(I.a.createElement(T["a"],{placeholder:"Pais"}))),I.a.createElement(L["a"].Item,S()({hasFeedback:!0},j,{label:"Departamento"}),o("department",{initialValue:l.department,rules:[{required:!0,message:"\xa1Por favor ingrese un nombre!"}]})(I.a.createElement(T["a"],{placeholder:"Departamento"}))),I.a.createElement(L["a"].Item,S()({hasFeedback:!0},j,{label:"Provincia"}),o("province",{initialValue:l.province,rules:[{required:!0,message:"\xa1Por favor ingrese un nombre!"}]})(I.a.createElement(T["a"],{placeholder:"Provincia"}))),I.a.createElement(L["a"].Item,S()({hasFeedback:!0},j,{label:"Distrito"}),o("district",{initialValue:l.district,rules:[{required:!0,message:"\xa1Por favor ingrese un nombre!"}]})(I.a.createElement(T["a"],{placeholder:"Distrito"}))),I.a.createElement(L["a"].Item,S()({hasFeedback:!0},j,{label:"Centro poblado"}),o("town_center",{initialValue:l.town_center,rules:[{required:!0,message:"\xa1Por favor ingrese un nombre!"}]})(I.a.createElement(T["a"],{placeholder:"Centro poblado"}))),I.a.createElement(L["a"].Item,S()({hasFeedback:!0},j,{label:"Direcci\xf3n"}),o("address",{initialValue:l.address,rules:[{required:!0,message:"\xa1Por favor ingrese un nombre!"}]})(I.a.createElement(T["a"],{placeholder:"Direcci\xf3n"})))))}}]),a}(I.a.Component))),z=function(e){function a(e){var n;return h()(this,a),n=E()(this,v()(a).call(this,e)),n.handleConfirm=n.handleConfirm.bind(V()(n)),n.handleCancel=n.handleCancel.bind(V()(n)),n}return C()(a,e),f()(a,[{key:"handleConfirm",value:function(e){var a=this.props,n=a.dispatch,t=a.subsidiary.currentItem,r=this.formRef.props.form;r.validateFields(function(a,i){a||(n({type:"subsidiary/".concat(e),payload:q()({},i,{id:t.id})}),r.resetFields())})}},{key:"handleCancel",value:function(){var e=this.formRef.props.form;e.resetFields()}},{key:"render",value:function(){var e=this,a=this.handleConfirm,n=this.handleCancel,t=this.props,r=t.dispatch,i=t.subsidiary,l=t.global,s=t.loading,o=i.currentItem,c=i.modalType,d=i.modalVisible,u={data:"create"==c?{state:!0}:o,disabled:"detail"==c,type:c,user:l.user,visible:d,confirmLoading:s,onOk:function(){a(c)},onCancel:function(){r({type:"subsidiary/resetSubsidiary"}),n()}};return I.a.createElement(B,S()({},u,{wrappedComponentRef:function(a){return e.formRef=a}}))}}]),a}(w["Component"]),A=function(e){var a=e.subsidiary,n=e.global,t=e.loading;return{subsidiary:a,global:n,loading:t.effects["subsidiary/create"]||t.effects["subsidiary/update"]}},Q=Object(x["connect"])(A)(z),X=function(e){function a(){var e,n;h()(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n=E()(this,(e=v()(a)).call.apply(e,[this].concat(r))),n.onQueryAll=function(){var e=n.props.dispatch;e({type:"subsidiary/all"})},n}return C()(a,e),f()(a,[{key:"componentDidMount",value:function(){this.onQueryAll()}},{key:"render",value:function(){var e=this.props,a=e.subsidiary,n=e.loading,c=e.dispatch,p=e.setting,h=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c({type:"subsidiary/showModal",payload:{currentItem:a,modalType:e}})},b=function(e){c({type:"subsidiary/delete",payload:e})},f=function(e){c({type:"subsidiary/updateMain",payload:e})},y=a.list;return I.a.createElement("div",null,I.a.createElement("div",{style:{marginBottom:"32px"}},I.a.createElement(m["a"],{shape:"square",className:F.a.avatar,size:32,src:"".concat(N["b"].path,"/").concat(p.logo)}),I.a.createElement(u["a"],{type:"vertical"}),I.a.createElement("strong",null,p.prefix," ",p.institute)),I.a.createElement(u["a"],{orientation:"left"},"Filiales"),I.a.createElement(r["a"],{rowKey:"id",loading:n,grid:{gutter:24,xl:4,lg:3,md:3,sm:2,xs:1},dataSource:[""].concat(d()(y)),renderItem:function(e){return e?I.a.createElement(r["a"].Item,{key:e.id},I.a.createElement(i["a"],{hoverable:!0,className:F.a.card,actions:[I.a.createElement(o["a"],{shape:"circle",icon:"edit",onClick:function(){return h("update",e)}}),I.a.createElement(o["a"],{shape:"circle",type:"danger",icon:"delete",onClick:function(){s["a"].confirm({title:"\xbfEst\xe1s seguro de eliminar este registro?",content:e.name,okText:"SI",okType:"danger",cancelText:"NO",onOk:function(){b({id:e.id})}})}})]},I.a.createElement(i["a"].Meta,{description:I.a.createElement("div",{className:F.a.content},I.a.createElement("div",{className:F.a.header},I.a.createElement(m["a"],{shape:"square",className:F.a.avatar,size:64,src:"".concat(N["b"].path,"/").concat(p.logo)}),I.a.createElement("div",null,I.a.createElement("div",null," Sede o Filial "),I.a.createElement("h2",null," ",e.name," "))),I.a.createElement("ul",{className:F.a.listS},I.a.createElement("li",null,"Pais: ",I.a.createElement("span",null,e.country)," "),I.a.createElement("li",null,"Departamento: ",I.a.createElement("span",null,e.department)," "),I.a.createElement("li",null,"Provincia: ",I.a.createElement("span",null,e.province)," "),I.a.createElement("li",null,"Distrito: ",I.a.createElement("span",null,e.district)," "),I.a.createElement("li",null,"Centro poblado: ",I.a.createElement("span",null,e.town_center)," "),I.a.createElement("li",null,"Direccion: ",I.a.createElement("span",null,e.address)," ")),I.a.createElement("div",{className:F.a.switch},I.a.createElement(l["a"],{checked:e.main,checkedChildren:"Central",unCheckedChildren:"Filial",onChange:function(a){a&&s["a"].confirm({title:"\xbfEstas seguro de establecer a ".concat(e.name," como la cede central"),content:e.name,onOk:function(){f({id:e.id})}})}})))}))):I.a.createElement(r["a"].Item,null,I.a.createElement(o["a"],{type:"dashed",className:F.a.newButton,onClick:function(){return h("create")}},I.a.createElement(t["a"],{type:"plus"})," Nuevo"))}}),I.a.createElement(Q,null))}}]),a}(w["Component"]),Z=function(e){var a=e.subsidiary,n=e.global,t=e.loading;return{subsidiary:a,setting:n.setting,loading:t.effects["subsidiary/all"]}};a["default"]=Object(x["connect"])(Z)(X)}}]);