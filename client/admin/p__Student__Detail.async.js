(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"/oW5":function(e,t,a){e.exports={tableListForm:"sn-pages-review-index-tableListForm",tableListOperator:"sn-pages-review-index-tableListOperator",changerContainer:"sn-pages-review-index-changerContainer",select:"sn-pages-review-index-select"}},"3e6g":function(e,t,a){e.exports={grid:"sn-pages-student-detail-index-grid",actions:"sn-pages-student-detail-index-actions",student:"sn-pages-student-detail-index-student",title:"sn-pages-student-detail-index-title",row:"sn-pages-student-detail-index-row"}},"6/Q8":function(e,t,a){e.exports={search:"sn-pages-review-form-detail-form-index-search",item:"sn-pages-review-form-detail-form-index-item",hidden:"sn-pages-review-form-detail-form-index-hidden"}},"B/fu":function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),r=(a("Pwec"),a("CtXQ")),i=(a("Telt"),a("Tckk")),l=a("2Taf"),o=a.n(l),c=a("vZ4D"),s=a.n(c),d=a("l4Ni"),u=a.n(d),m=a("ujKo"),p=a.n(m),h=a("MhPg"),f=a.n(h),v=(a("Znn+"),a("ZTPi")),y=a("q1tI"),E=a.n(y),g=a("zHco"),w=a("MuoO"),C=a("3e6g"),b=a.n(C),S=a("Aeqt"),k=a("wd/R"),D=a.n(k),_=(a("RC8p"),a("rgW5")),M=(a("fOrg"),a("+KLJ")),N=(a("+L6B"),a("2/Rp")),x=a("pTQ3"),P=a.n(x),I=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),a.onQuery=function(){var e=a.props,t=e.dispatch,n=e.student;t({type:"student/history",payload:{id:n.student.id}})},a}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.student,a=e.loading;return E.a.createElement("div",{className:P.a.container},E.a.createElement("div",{className:P.a.operations},E.a.createElement(N["a"],{icon:"reload",shape:"circle",loading:a,onClick:this.onQuery})),E.a.createElement(_["a"],{style:{margin:"8px"}},t.histories.map(function(e){return E.a.createElement(_["a"].Item,{key:e.id,color:1===e.type?"green":2===e.type?"red":void 0,dot:E.a.createElement(r["a"],{type:"clock-circle-o",style:{fontSize:"16px"}})},E.a.createElement(M["a"],{type:1===e.type?"success":2===e.type?"error":void 0,message:E.a.createElement("div",null,e.description,E.a.createElement("div",null,D()(e.date).format("D [de] MMMM [de] YYYY")))}))})))}}]),t}(E.a.Component),Y=function(e){var t=e.student,a=e.global,n=e.loading;return{student:t,setting:a.setting,loading:n.effects["student/history"]}},F=Object(w["connect"])(Y)(I),O=(a("/zsF"),a("PArb")),V=(a("OaEy"),a("2fM7")),A=(a("7DNP"),a("/oW5")),T=a.n(A),R=(a("g9YV"),a("wCAj")),j=(a("qVdP"),a("jsC+")),L=(a("lUTK"),a("BvKs")),G=(a("5NDa"),a("5rEg")),q=(a("17x9"),a("2qtc"),a("kLXV")),z=(a("giR+"),a("fyUT")),Q=a("tP2g"),U=a.n(Q),X=function(e){var t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterCertModuler"})};return E.a.createElement(q["a"],{title:"Acta",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.certModulerVisible},E.a.createElement("div",{className:U.a.tools},E.a.createElement("div",{className:U.a.item},E.a.createElement("span",null,"XY1"),E.a.createElement(z["a"],{style:{width:60},min:0})),E.a.createElement("div",{className:U.a.item},E.a.createElement("span",null,"XY2"),E.a.createElement(z["a"],{style:{width:60},min:0})),E.a.createElement("div",{className:U.a.item},E.a.createElement("span",null,"XY3"),E.a.createElement(z["a"],{style:{width:60},min:0})),E.a.createElement("div",{className:U.a.item},E.a.createElement("span",null,"XY4"),E.a.createElement(z["a"],{style:{width:60},min:0}))),E.a.createElement("iframe",{src:"".concat(S["b"].path,"/").concat(t.docCertModulerDataUrl),height:"600px",width:"100%"}))},B=function(e){var t=e.printStudent;return{printStudent:t}},W=Object(w["connect"])(B)(X),K=function(e){var t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterCertGraduated"})};return E.a.createElement(q["a"],{title:"Acta",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.certGraduatedVisible},E.a.createElement("div",{className:U.a.tools},E.a.createElement("div",{className:U.a.item},E.a.createElement("span",null,"XY1"),E.a.createElement(z["a"],{style:{width:60},min:0})),E.a.createElement("div",{className:U.a.item},E.a.createElement("span",null,"XY2"),E.a.createElement(z["a"],{style:{width:60},min:0})),E.a.createElement("div",{className:U.a.item},E.a.createElement("span",null,"XY3"),E.a.createElement(z["a"],{style:{width:60},min:0})),E.a.createElement("div",{className:U.a.item},E.a.createElement("span",null,"XY4"),E.a.createElement(z["a"],{style:{width:60},min:0}))),E.a.createElement("iframe",{src:"".concat(S["b"].path,"/").concat(t.docCertGraduatedDataUrl),height:"600px",width:"100%"}))},H=function(e){var t=e.printStudent;return{printStudent:t}},J=Object(w["connect"])(H)(K),Z=function(e){var t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterConstGraduated"})};return E.a.createElement(q["a"],{title:"Constancia de graduaci\xf3n",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.constGraduatedVisible},E.a.createElement("iframe",{src:"".concat(S["b"].path,"/").concat(t.docConstGraduatedDataUrl),height:"600px",width:"100%"}))},$=function(e){var t=e.printStudent;return{printStudent:t}},ee=Object(w["connect"])($)(Z),te=function(e){var t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterActa"})};return E.a.createElement(q["a"],{title:"Acta",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.actaVisible},E.a.createElement("iframe",{src:"".concat(S["b"].path,"/").concat(t.docActaDataUrl),height:"600px",width:"100%"}))},ae=function(e){var t=e.printStudent;return{printStudent:t}},ne=Object(w["connect"])(ae)(te),re=function(e){var t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterConsolidado"})};return E.a.createElement(q["a"],{title:"Consolidado",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.consolidadoVisible},E.a.createElement("iframe",{src:"".concat(S["b"].path,"/").concat(t.docConsolidadoDataUrl),height:"600px",width:"100%"}))},ie=function(e){var t=e.printStudent;return{printStudent:t}},le=Object(w["connect"])(ie)(re),oe=function(e){var t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterConst"})};return E.a.createElement(q["a"],{title:"Constancia",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.constVisible},E.a.createElement("iframe",{src:"".concat(S["b"].path,"/").concat(t.docConstDataUrl),height:"600px",width:"100%"}))},ce=function(e){var t=e.printStudent;return{printStudent:t}},se=Object(w["connect"])(ce)(oe),de=a("p0pE"),ue=a.n(de),me=(a("iQDF"),a("+eQT")),pe=(a("T2oS"),a("W9HT")),he=a("jehZ"),fe=a.n(he),ve=a("rlhR"),ye=a.n(ve),Ee=(a("y8nQ"),a("Vl3Y")),ge=a("o5rI"),we=a.n(ge),Ce=a("oDxf"),be=(a("P2fV"),a("NJEC")),Se=(a("5Dmo"),a("3S7+")),ke=(a("CkN6"),a("qeWu")),De=a.n(ke),_e=function(e){function t(e){var a;return o()(this,t),a=u()(this,p()(t).call(this,e)),a.state={sortedInfo:null,filteredInfo:null},a.onChange=a.onChange.bind(ye()(a)),a.clearAllFilters=a.clearAllFilters.bind(ye()(a)),a}return f()(t,e),s()(t,[{key:"onChange",value:function(e,t,a){this.setState({sortedInfo:a,filteredInfo:t})}},{key:"clearAllFilters",value:function(){this.setState({sortedInfo:null,filteredInfo:null}),this.props.onClear()}},{key:"render",value:function(){var e=this.state,t=e.sortedInfo,a=e.filteredInfo;t=t||{},a=a||{};var n=this.props,i=n.onShowModalEdit,l=n.onDelete,o=n.dataSource,c=n.loading,s=n.disabled,d=[{title:"N\xb0",key:"n",render:function(e,t,a){return a+1}},{title:"Empresa",dataIndex:"company_name",key:"company_name"},{title:"Fecha inicio",dataIndex:"start_date",key:"start_date",render:function(e,t){return D()(e).format("DD MMMM YYYY")}},{title:"Fecha fin",dataIndex:"end_date",key:"end_date",render:function(e,t){return D()(e).format("DD MMMM YYYY")}},{title:"Horas",dataIndex:"hours",key:"hours"},{title:"Nota",dataIndex:"note",key:"note"},{title:"Accion",key:"accion",width:"110px",render:function(e,t){return E.a.createElement("div",{className:De.a.actions},!s&&E.a.createElement(Se["a"],{title:"Editar"},E.a.createElement(r["a"],{type:"edit",className:De.a.update,onClick:function(){return i("update",e)}})),!s&&E.a.createElement(Se["a"],{title:"Eliminar"},E.a.createElement(be["a"],{title:"\xbfEst\xe1s seguro de eliminar este registro?",onConfirm:function(){return l(e)}},E.a.createElement(r["a"],{type:"delete",className:De.a.delete}))))}}];return E.a.createElement("div",null,E.a.createElement(R["a"],{columns:d,dataSource:o,loading:c,size:"small",pagination:!1,onChange:this.onChange,rowKey:function(e){return e.aux_id}}))}}]),t}(y["Component"]),Me=_e,Ne=(a("O3gP"),a("lrIw")),xe=a("iMm1"),Pe=a("6/Q8"),Ie=a.n(Pe),Ye={labelCol:{span:8},wrapperCol:{span:12}},Fe=Ne["a"].Option,Oe=Ee["a"].create()(function(e){function t(e){return o()(this,t),u()(this,p()(t).call(this,e))}return f()(t,e),s()(t,[{key:"handleChangeSelectCompany",value:function(e,t){this.props.form.setFieldsValue({company_name:t,company_id:e});var a=this.props.company.searchResult.find(function(t){return t.id==e});this.props.form.setFieldsValue({unit_measure:a.unit_measure})}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.type,r=t.onCancel,i=t.onOk,l=t.form,o=t.data,c=void 0===o?{}:o,s=l.getFieldDecorator,d=this.props,u=d.dispatch,m=d.company,p=(d.loading,function(){u({type:"company/showModal",payload:{modalType:"create"}})}),h=m.searchResult,f=function(e){u({type:"company/search",payload:{search:e}})},v=function(t,a){e.handleChangeSelectCompany(t,a.props.children)},y=h.map(function(e){return E.a.createElement(Fe,{key:e.id},e.name_social_reason)});return E.a.createElement(q["a"],{visible:a,title:"Empresa",okText:"update"===n?"Modificar":"A\xf1adir",cancelText:"Cerrar",onCancel:r,onOk:i},E.a.createElement(Ee["a"],{layout:"horizontal"},E.a.createElement(Ee["a"].Item,fe()({hasFeedback:!0},Ye,{label:"Empresa"}),E.a.createElement("div",{className:Ie.a.search},E.a.createElement("div",{className:Ie.a.item},s("company_name_aux",{initialValue:c.company_name,rules:[{required:!0,message:"\xa1Por favor elija un companyo!"}]})(E.a.createElement(Ne["a"],{dataSource:y,onSelect:v,onSearch:f,placeholder:"Buscar empresa"}))),E.a.createElement("div",{className:Ie.a.more},E.a.createElement(N["a"],{icon:"plus",onClick:function(){return p()}}),E.a.createElement(xe["a"],null)))),E.a.createElement(Ee["a"].Item,{className:Ie.a.hidden},s("company_id",{initialValue:c.company_id})(E.a.createElement(z["a"],null))),E.a.createElement(Ee["a"].Item,{className:Ie.a.hidden},s("company_name",{initialValue:c.company_name})(E.a.createElement(G["a"],null))),E.a.createElement(Ee["a"].Item,fe()({hasFeedback:!0},Ye,{label:"Horas"}),s("hours",{initialValue:c.hours,rules:[{required:!0,message:"\xa1Por favor ingrese horas!"},{pattern:/^([0-9]*|\d*\.\d{1}?\d*)$/,message:"\xa1Ingrese un cantidad v\xe1lido!"}]})(E.a.createElement(z["a"],{placeholder:"Horas de practica",style:{width:"150px"}}))),E.a.createElement(Ee["a"].Item,fe()({hasFeedback:!0},Ye,{label:"Nota"}),s("note",{initialValue:c.note,rules:[{required:!0,message:"\xa1Por favor ingrese una Nota!"}]})(E.a.createElement(z["a"],{placeholder:"Nota de practica",style:{width:"150px"}}))),E.a.createElement(Ee["a"].Item,fe()({hasFeedback:!0},Ye,{label:"Fecha de inicio"}),s("start_date",{initialValue:c.start_date?D()(new Date(c.start_date),"DD/MM/YYYY"):void 0,rules:[{required:!0,message:"\xa1Por favor ingrese fecha de inicio!"}]})(E.a.createElement(me["a"],{format:"DD/MM/YYYY"}))),E.a.createElement(Ee["a"].Item,fe()({hasFeedback:!0},Ye,{label:"Fecha de finalizaci\xf3n"}),s("end_date",{initialValue:c.end_date?D()(new Date(c.end_date),"DD/MM/YYYY"):void 0,rules:[{required:!0,message:"\xa1Por favor ingrese fecha de finalizaci\xf3n!"}]})(E.a.createElement(me["a"],{format:"DD/MM/YYYY"})))))}}]),t}(E.a.Component)),Ve=function(e){function t(e){var a;return o()(this,t),a=u()(this,p()(t).call(this,e)),a.state={},a.handleConfirm=a.handleConfirm.bind(ye()(a)),a}return f()(t,e),s()(t,[{key:"handleConfirm",value:function(e){var t=this.props,a=t.dispatch,n=t.reviewDetail.currentItem,r=(t.review,this.formRef.props.form);r.validateFields(function(t,i){t||(i=ue()({},i,{company_id:parseInt(i.company_id),company_name_aux:void 0}),"create"==e?a({type:"reviewDetail/addList",payload:ue()({},i,{id:n.id})}):"update"==e&&a({type:"reviewDetail/updateItemByID",payload:ue()({},i,{aux_id:n.aux_id})}),a({type:"reviewDetail/resetReviewDetail"}),r.resetFields())})}},{key:"render",value:function(){var e=this,t=this.props,a=t.company,n=t.reviewDetail,r=t.dispatch,i=n.currentItem,l=n.modalType,o=n.modalVisible,c=this.handleConfirm,s={data:"create"==l?{}:i,type:l,visible:o,onOk:function(){c(l)},onCancel:function(){r({type:"reviewDetail/resetReviewDetail"})}};return E.a.createElement("div",null,E.a.createElement(Oe,fe()({wrappedComponentRef:function(t){return e.formRef=t}},s,{dispatch:r,company:a})))}}]),t}(E.a.Component),Ae=function(e){var t=e.company,a=e.reviewDetail,n=e.review,r=e.loading;return{company:t,reviewDetail:a,review:n,loading:r.effects}},Te=Object(w["connect"])(Ae)(Ve),Re=a("jcMW"),je={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:12}}},Le=V["a"].Option,Ge=Ee["a"].create()(function(e){function t(e){var a;return o()(this,t),a=u()(this,p()(t).call(this,e)),a.handleChangeSelectTeacher=a.handleChangeSelectTeacher.bind(ye()(a)),a}return f()(t,e),s()(t,[{key:"handleChangeSelectTeacher",value:function(e){var t=this.props.form;t.setFieldsValue({teacher_id:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.reviewDetail,r=t.dispatch,i=t.type,l=t.onCancel,o=t.onOk,c=t.form,s=t.confirmLoading,d=t.loadingSearch,u=t.moduler,m=t.teacher,p=t.data,h=c.getFieldDecorator,f="update"===i,v=n.list,y={dataSource:v,loading:!1,disabled:!1,onDelete:function(e){r({type:"reviewDetail/removeItem",payload:e}),f&&r({type:"reviewDetail/delete",payload:{id:e.id}})},onShowModalEdit:function(e,t){g(e,t)}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r({type:"reviewDetail/showModal",payload:{currentItem:t,modalType:e}})},w=function(){r({type:"reviewDetail/clearList"})},C=function(){r({type:"teacher/showModal",payload:{modalType:"create"}})},b=m.searchResult,S=function(e){r({type:"teacher/searchProgram",payload:{search:e}})},k=function(t){var a=t.key;t.label;e.handleChangeSelectTeacher(parseInt(a))},_=(b.map(function(e){return E.a.createElement(Le,{key:e.id},"".concat(e.first_name," ").concat(e.last_name))}),void 0==p.teacher_first_name?"":p.teacher_first_name);return _+=void 0==p.teacher_last_name?"":" ".concat(p.teacher_last_name),E.a.createElement(q["a"],{title:"Revisi\xf3n",okText:"Guardar",width:"90vw",style:{top:50},confirmLoading:s,onCancel:l,onOk:o,visible:a},E.a.createElement(Ee["a"],{layout:"horizontal"},E.a.createElement(Ee["a"].Item,fe()({hasFeedback:!0,label:"Modulo"},je),h("module_id",{initialValue:p.module_id,rules:[{required:!0,message:"\xa1Por favor seleccione un modulo!"}]})(E.a.createElement(V["a"],{placeholder:"Seleccionar"},u.list.map(function(e){return E.a.createElement(V["a"].Option,{value:e.id,key:e.id},"Nro ".concat(e.sequence," - ").concat(e.name))})))),E.a.createElement(Ee["a"].Item,fe()({hasFeedback:!0},je,{label:"Supervisor"}),E.a.createElement("div",{className:we.a.search},E.a.createElement("div",{className:we.a.item},h("teacher_name_aux",{initialValue:p.teacher_id?{key:p.teacher_id,label:_}:void 0,rules:[{required:!0,message:"\xa1Por favor elija un supervisor!"}]})(E.a.createElement(V["a"],{showSearch:!0,labelInValue:!0,placeholder:"Buscar Supervisor",notFoundContent:d?E.a.createElement(pe["a"],{size:"small"}):null,filterOption:!1,onSearch:S,onChange:k},b.map(function(e){return E.a.createElement(V["a"].Option,{key:e.id},"".concat(e.first_name," ").concat(e.last_name))})))),E.a.createElement("div",{className:we.a.more},E.a.createElement(N["a"],{icon:"plus",onClick:function(){return C()}}),E.a.createElement(Re["a"],null)))),E.a.createElement(Ee["a"].Item,{label:"ID",className:we.a.hidden},h("teacher_id",{initialValue:p.teacher_id})(E.a.createElement(z["a"],null))),E.a.createElement(Ee["a"].Item,fe()({hasFeedback:!0,label:"Fecha de aprobaci\xf3n"},je),h("approbation_date",{initialValue:p.approbation_date?D()(new Date(p.approbation_date),"DD/MM/YYYY"):D()(new Date,"DD/MM/YYYY")})(E.a.createElement(me["a"],{format:"DD/MM/YYYY"})))),E.a.createElement("div",{className:we.a.operations},E.a.createElement(N["a"].Group,null,E.a.createElement(N["a"],{type:"primary",icon:"plus",onClick:function(){return g("create")}},"Agregar"),E.a.createElement(N["a"],{type:"danger",icon:"delete",onClick:function(){return w()}},"Limpiar")),E.a.createElement(Te,null)),E.a.createElement(Ce["a"],null),E.a.createElement(Me,y))}}]),t}(E.a.Component)),qe=function(e){function t(e){var a;return o()(this,t),a=u()(this,p()(t).call(this,e)),a.handleConfirm=a.handleConfirm.bind(ye()(a)),a.handleCancel=a.handleCancel.bind(ye()(a)),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.student;t({type:"moduler/all",payload:{program_id:a.currentProgram.id}})}},{key:"handleConfirm",value:function(e){var t=this.props,a=t.dispatch,n=t.review.currentItem,r=this.formRef.props.form;r.validateFields(function(t,i){t||(a({type:"review/".concat(e),payload:ue()({},i,{id:n.id})}),r.resetFields(),a({type:"reviewDetail/clearList"}))})}},{key:"handleCancel",value:function(){var e=this.formRef.props.form;e.resetFields()}},{key:"render",value:function(){var e=this,t=this.handleConfirm,a=this.handleCancel,n=this.props,r=n.dispatch,i=n.review,l=n.reviewDetail,o=n.moduler,c=n.teacher,s=n.loading,d=n.loadingSearch,u=i.currentItem,m=i.modalType,p=i.modalVisible,h={data:"create"==m?{state:!0}:u,disabled:"detail"==m,type:m,moduler:o,teacher:c,loadingSearch:d,visible:p,confirmLoading:s,onOk:function(){t(m)},onCancel:function(){r({type:"review/resetReview"}),r({type:"reviewDetail/clearList"}),a()}};return E.a.createElement(Ge,fe()({},h,{reviewDetail:l,dispatch:r,wrappedComponentRef:function(t){return e.formRef=t}}))}}]),t}(y["Component"]),ze=function(e){var t=e.review,a=e.reviewDetail,n=e.moduler,r=e.teacher,i=e.student,l=e.loading;return{review:t,reviewDetail:a,moduler:n,teacher:r,student:i,loadingSearch:l.effects["teacher/searchProgram"],loading:l.effects["review/create"]||l.effects["review/update"]}},Qe=Object(w["connect"])(ze)(qe),Ue=(G["a"].Search,function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),a.onPracticeMenu=function(e,t){switch(e.key){case"edit":a.onShowModal("update",t);break;case"cert":a.onShowModalPrintCertModuler(t);break;case"cons":a.onShowModalPrintCons(t);break;case"acta":a.onShowModalPrintActa(t);break;default:console.log("click",e);break}},a.onShowModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.props.dispatch;n({type:"review/showModal",payload:{currentItem:t,modalType:e}}),"update"===e&&n({type:"reviewDetail/byReview",payload:{id:t.id}})},a.onShowModalPrintCertGraduated=function(){var e=a.props.dispatch;e({type:"printStudent/showPrinterCertGraduated"}),e({type:"printStudent/loadDataCertGraduated"})},a.onShowModalPrintConstGraduated=function(){var e=a.props.dispatch;e({type:"printStudent/showPrinterConstGraduated"}),e({type:"printStudent/loadDataConstGraduated"})},a.onShowModalPrintCertModuler=function(e){var t=a.props.dispatch;t({type:"printStudent/showPrinterCertModuler"}),t({type:"printStudent/loadDataCertModuler",payload:{id:e.id}})},a.onShowModalPrintActa=function(e){var t=a.props.dispatch;t({type:"printStudent/showPrinterActa"}),t({type:"printStudent/loadDataActa",payload:{id:e.id}})},a.onShowModalPrintCons=function(e){var t=a.props.dispatch;t({type:"printStudent/showPrinterConst"}),t({type:"printStudent/loadDataConst",payload:{id:e.id}})},a.onShowModalPrintConsolidado=function(e){var t=a.props.dispatch;t({type:"printStudent/showPrinterConsolidado"}),t({type:"printStudent/loadDataConsolidado"})},a}return f()(t,e),s()(t,[{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"review/resetReview"}),e({type:"student/resetStudent"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.review,n=t.student,i=t.currentUser,l=t.loading,o=a.list,c=a.validates,s=[{title:"Supervisor",key:"supervisor",render:function(e,t){return"".concat(t.teacher_first_name," ").concat(t.teacher_last_name)}},{title:"Modulo",dataIndex:"name",key:"name"},{title:"Accion",key:"accion",width:"130px",render:function(t,a){var n=E.a.createElement(L["a"],{onClick:function(t){return e.onPracticeMenu(t,a)},trigger:["click"]},E.a.createElement(L["a"].Item,{key:"edit"},E.a.createElement(r["a"],{type:"edit"}),"Editar"),i.role_id>=1&&i.role_id<=2&&E.a.createElement(L["a"].Item,{key:"cert"},E.a.createElement(r["a"],{type:"printer"}),"Certificado Modular"),E.a.createElement(L["a"].Item,{key:"cons"},E.a.createElement(r["a"],{type:"printer"}),"Constancia de practicas"),E.a.createElement(L["a"].Item,{key:"acta"},E.a.createElement(r["a"],{type:"printer"}),"Acta de practicas"));return E.a.createElement(j["a"].Button,{overlay:n},"Opciones")}}];return console.log(i),E.a.createElement("div",{className:T.a.tableList},E.a.createElement(M["a"],{showIcon:!0,style:{marginBottom:"32px"},message:n.currentProgram.name,description:E.a.createElement("div",null,E.a.createElement("span",null,"Ingreso: ",n.currentProgram.year_admission)," "," ",E.a.createElement("span",null,"Egreso: ",n.currentProgram.year_promotion))}),E.a.createElement("div",{className:T.a.tableListOperator},E.a.createElement(N["a"].Group,null,E.a.createElement(N["a"],{icon:"plus",type:"primary",disabled:c.consolidate,onClick:function(){return e.onShowModal("create")}},"Nueva revisi\xf3n"),E.a.createElement(N["a"],{type:"primary",icon:"printer",disabled:!c.consolidate,onClick:function(){return e.onShowModalPrintConsolidado()}},"Acta de consolidado")),i.role_id>=1&&i.role_id<=2&&E.a.createElement(N["a"].Group,null,E.a.createElement(N["a"],{onClick:function(){return e.onShowModalPrintCertGraduated()},icon:"printer"},"Certificado De Egresado"),E.a.createElement(N["a"],{onClick:function(){return e.onShowModalPrintConstGraduated()},icon:"printer"},"Constancia De Egresado"))),E.a.createElement(Qe,null),E.a.createElement(R["a"],{loading:l,dataSource:o,columns:s,size:"small",rowKey:function(e){return e.id}}),E.a.createElement(J,null),E.a.createElement(ee,null),E.a.createElement(W,null),E.a.createElement(ne,null),E.a.createElement(le,null),E.a.createElement(se,null))}}]),t}(y["Component"])),Xe=function(e){var t=e.review,a=e.global,n=e.student,r=e.loading;return{review:t,student:n,currentUser:a.user,loading:r.effects["review/all"]}},Be=Object(w["connect"])(Xe)(Ue),We=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),a.onQueryAll=function(){var e=a.props.dispatch;e({type:"review/all"})},a.onChangeCurrentProgram=function(e){var t=a.props,n=t.dispatch,r=t.student,i=r.programs.find(function(t){return t.id==parseInt(e)});n({type:"student/setCurrentProgram",payload:i}),n({type:"review/all",payload:{student_id:r.student.id,program_id:parseInt(e)}}),n({type:"moduler/all",payload:{program_id:parseInt(e)}})},a}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props.student;return E.a.createElement("div",null,E.a.createElement("div",{className:T.a.changerContainer},E.a.createElement(V["a"],{onChange:this.onChangeCurrentProgram,className:T.a.select,disabled:t.programs.length<=1,value:t.programs?t.currentProgram.id:void 0},t.programs.map(function(e){return E.a.createElement(V["a"].Option,{value:e.id,key:e.id},e.name)})),E.a.createElement(O["a"],{type:"vertical"}),E.a.createElement(N["a"],{icon:"reload",type:"primary",onClick:function(){return e.onQueryAll()},className:T.a.reload})),t.currentProgram.id&&E.a.createElement(Be,null))}}]),t}(y["Component"]),Ke=function(e){var t=e.student;e.loading;return{student:t}},He=Object(w["connect"])(Ke)(We),Je=v["a"].TabPane,Ze=function(e){function t(){return o()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.computedMatch.params,a=e.dispatch;a({type:"student/byId",payload:{id:parseInt(t.id)}})}},{key:"render",value:function(){var e=this.props,t=(e.currentStudent,e.setting),a=(e.dispatch,e.loading,this.props.student),l=a.student;a.programs;return E.a.createElement(g["a"],{title:l.full_name},E.a.createElement(n["a"],{bordered:!1},E.a.createElement("div",{className:b.a.grid},E.a.createElement("div",null,E.a.createElement(i["a"],{src:""===l.user.avatar?"".concat(S["b"].path,"/").concat(t.logo):"".concat(S["b"].path,"/").concat(l.user.avatar),size:130,shape:"square",style:{backgroundColor:"#F1F1F1"}}),E.a.createElement("div",{className:b.a.actions})),E.a.createElement("div",{className:b.a.student},E.a.createElement("h2",{className:b.a.title},"\ud83d\ude00 Datos Personales"),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"DNI:")," ",l.dni),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Nombres:")," ",l.full_name),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Sexo:")," ",l.gender),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Edad:"),D()().diff(l.birth_date,"years")),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Email:")," ",l.user.email)),E.a.createElement("div",{className:b.a.student},E.a.createElement("h2",{className:b.a.title},"\ud83d\udcc5 Lugar de nacimiento"),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Lugar de nacimiento:")," ",l.birth_place),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Distrito:")," ",l.district),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Provincia:")," ",l.province),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Regi\xf3n:")," ",l.region)),E.a.createElement("div",{className:b.a.student},E.a.createElement("h2",{className:b.a.title},"\ud83d\udcd2 Otros datos"),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Pais:")," ",l.country),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Direccion:")," ",l.address),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Telefono:")," ",l.phone),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Estado civil:"),"  ",l.civil_status),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Trabaja:")," ",l.is_work),E.a.createElement("div",{className:b.a.row},E.a.createElement("span",null,"Puesto en la que trabaja:")," ",l.market_stall))),E.a.createElement(v["a"],{defaultActiveKey:"1"},E.a.createElement(Je,{tab:E.a.createElement("span",null,E.a.createElement(r["a"],{type:"form"})," Practicas modulares. "),key:"1"},E.a.createElement(He,null)),E.a.createElement(Je,{tab:E.a.createElement("span",null,E.a.createElement(r["a"],{type:"rocket"})," Historial "),key:"2"},E.a.createElement(F,null)))))}}]),t}(E.a.Component),$e=function(e){var t=e.student,a=e.global,n=e.loading;return{student:t,setting:a.setting,loading:n.effects["student/by/id"]}};t["default"]=Object(w["connect"])($e)(Ze)},o5rI:function(e,t,a){e.exports={search:"sn-pages-review-form-index-search",item:"sn-pages-review-form-index-item",hidden:"sn-pages-review-form-index-hidden"}},pTQ3:function(e,t,a){e.exports={container:"sn-pages-student-history-index-container",operations:"sn-pages-student-history-index-operations"}},qeWu:function(e,t,a){e.exports={actions:"sn-pages-review-form-detail-list-index-actions",delete:"sn-pages-review-form-detail-list-index-delete",update:"sn-pages-review-form-detail-list-index-update"}},tP2g:function(e,t,a){e.exports={tools:"sn-pages-review-print-index-tools",item:"sn-pages-review-print-index-item"}}}]);